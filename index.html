---
layout: default
---


<section>
    <h2>Preperation</h2>
    <p>Preheat oven to 180ÂºC (Gas Mark 4)</p>
</section>

<section>
    <h2>Cooking Time</h2>

    <input type="number" id="js-input-kg">KG
    <div>
        <span id="js-cooking-time-minutes"></span> Minutes
        <div>OR</div>
        <span id="js-cooking-time-hours"></span> Hours
        <span id="js-cooking-time-hours-min"></span> Minutes
    </div>

    <h3>Start a timer</h3>
    <div id="js-timer-countdown"></div>
    <button onclick="startTimer()">Start</button>

    <aside>Times are approximate, allow more time for a bird with stuffing inside. Fan-assisted ovens, might cook the bird quicker.</aside>
    <details>
        <summary>View the formula</summary>
        <h3>Under 4.5kg</h3>
        <p>45 minutes per kg plus 20 minutes</p>

        <h3>between 4.5kg and 6.5kg</h3>
        <p>40 minutes per kg</p>

        <h3>more than 6.5kg</h3>
        <p>35 minutes per kg</p>
    </details>
</section>

<section>    
    <h2>When's it ready?</h2>
    <ul>
        <li>the meat should be steaming hot all the way through</li>
        <li>none of the meat should be pink when you cut into the thickest part of the bird</li>
        <li>the juices should run clear when you pierce the turkey or press the thigh</li>
    </ul>
</section>


<script>

    var weightInput = document.getElementById('js-input-kg');
    var weightValue = weightInput.value;
    var resultMinutes = document.getElementById('js-cooking-time-minutes');
    var resultHours = document.getElementById('js-cooking-time-hours');
    var resultHoursMin = document.getElementById('js-cooking-time-hours-min');
    var timerCountdown = document.getElementById('js-timer-countdown');
    var countdownMinutes;

    // Update the time fields on change of the KG input
    weightInput.addEventListener("change", function(){
        var weight = this.value;
        var minutes;
        if ( weight < 4.5 ){
            // 45 minutes per kg plus 20 minutes
            minutes = ( 45 * weight ) + 20;
        }
        else if ( weight > 6.5 ){
            // 35 minutes per kg
            minutes = 35 * weight;
        }
        else {
            // 40 minutes per kg
            minutes = 40 * weight;
        }

        // for the timer
        countdownMinutes = minutes;

        // display the results
        resultMinutes.innerHTML = minutes;
        resultHours.innerHTML = Math.floor( minutes / 60);
        resultHoursMin.innerHTML = minutes % 60;
    });

    // Start a timer on button press
    var countdownSeconds, interval;
    function startTimer() {
        stopTimer();
        console.log(countdownMinutes);
        countdownSeconds = countdownMinutes * 60;
        interval = setInterval(minusSecond, 1000);
    }
    function minusSecond(timeRemaining) {
        countdownSeconds = countdownSeconds - 1;
        timerCountdown.innerHTML = countdownSeconds + " seconds remaining";
        if( countdownSeconds < 1){
            stopTimer();
        }
    }
    function stopTimer() {
        clearInterval(interval);
        console.log("timer ended");
    }

</script>
